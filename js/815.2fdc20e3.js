"use strict";(self["webpackChunkvue_firebase_auth"]=self["webpackChunkvue_firebase_auth"]||[]).push([[815],{1119:function(e,a,l){l.r(a),l.d(a,{default:function(){return A}});l(4114);var t=l(6768),n=l(5130),s=l(144),u=l(8094),o=l(5860),i=l(5707);const r=(0,t.Lk)("input",{type:"radio",class:"btn-check",name:"btnradio",id:"login",checked:"",value:"login"},null,-1),c=(0,t.Lk)("label",{class:"btn btn-outline-primary",for:"login"}," 登入 ",-1),v=(0,t.Lk)("input",{type:"radio",class:"btn-check",name:"btnradio",id:"signin",value:"signin"},null,-1),d=(0,t.Lk)("label",{class:"btn btn-outline-primary",for:"signin"}," 註冊 ",-1),b=[r,c,v,d];var g={__name:"CurrentStatus",emits:["sendStatus"],setup(e,{emit:a}){const l=a,n=e=>{l("sendStatus",e.target.value)};return(e,a)=>((0,t.uX)(),(0,t.CE)("div",{class:"btn-group mb-3",role:"group",onChange:n},b,32))}};const k=g;var p=k,m=l(7967),h=l(9957),f=l(1387);const y=e=>((0,t.Qi)("data-v-139b47f8"),e=e(),(0,t.jt)(),e),L={class:"card user_info"},w={class:"card-body px-0 py-0"},C={class:"mb-3"},E=y((()=>(0,t.Lk)("label",{for:"email",class:"form-label"},"電子信箱",-1))),F={class:"mb-2"},_=y((()=>(0,t.Lk)("label",{for:"password",class:"form-label"},"密碼",-1))),j=y((()=>(0,t.Lk)("div",{class:"text-center my-3 otherLoginMethod d-flex align-items-center justify-content-center"},"OR",-1))),R={class:"d-grid gap-2"};var x={__name:"loginPage",setup(e){const a=(0,s.KR)(""),l=(0,s.KR)(""),r=(0,s.KR)(!1),c=(0,s.KR)(""),v=(0,s.KR)("login"),d=(0,f.rd)(),b=(0,s.KR)(!1),g=async()=>{b.value=!0,await(0,o.eJ)(u.j,a.value,l.value).then((()=>{u.j.languageCode="zh-TW",u.j.ActionCodeSettings={url:"https://iian0910.github.io/vue-firebase-auth/"},(0,o.gA)(u.j.currentUser,u.j.ActionCodeSettings).then((()=>{a.value="",l.value=""})),r.value=!1,c.value="註冊成功，請到指定信箱點擊驗證連結"})).catch((e=>{switch(r.value=!0,e.message){case"Firebase: Error (auth/email-already-in-use).":c.value="帳號已註冊";break;default:c.value="註冊失敗";break}})),b.value=!1,S()},k=async()=>{b.value=!0,await(0,o.x9)(u.j,a.value,l.value).then((()=>{a.value="",l.value="",r.value=!1,c.value="登入成功"})).catch((e=>{switch(r.value=!0,e.message){case"Firebase: Error (auth/invalid-email).":c.value="帳號有誤";break;case"Firebase: Error (auth/missing-password).":c.value="密碼有誤";break;default:c.value="帳號或密碼不存在";break}})),b.value=!1},y=async()=>{const e=new o.HF;await(0,o.df)(u.j,e).then((e=>{r.value=!1,c.value="登入成功";const a=o.HF.credentialFromResult(e);console.log(a)})).catch((e=>{r.value=!0,c.value="登入失敗",console.log(e)})),S()},x=async()=>{const e=new o.Dt;await(0,o.df)(u.j,e).then((e=>{r.value=!1,c.value="登入成功";const a=o.Dt.credentialFromResult(e);console.log(a)})).catch((e=>{r.value=!0,c.value="登入失敗",console.log(e)})),S()},K=()=>{d.push({path:"/resetPassword"})},S=()=>{const e=document.getElementById("liveToast"),a=new i.Toast(e);a.show()},A=e=>{a.value="",l.value="",v.value=e};return(e,s)=>((0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(m.A,{"is-loading":b.value},null,8,["is-loading"]),(0,t.Lk)("div",L,[(0,t.bF)(p,{onSendStatus:A}),(0,t.Lk)("div",w,[(0,t.Lk)("form",null,[(0,t.Lk)("div",C,[E,(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>a.value=e),type:"email",class:"form-control",id:"email"},null,512),[[n.Jo,a.value]])]),(0,t.Lk)("div",F,[_,(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>l.value=e),type:"password",class:"form-control",id:"password"},null,512),[[n.Jo,l.value]])]),"login"===v.value?((0,t.uX)(),(0,t.CE)("a",{key:0,href:"#",class:"d-block text-decoration-none text-end",onClick:(0,n.D$)(K,["prevent"])}," 忘記密碼? ")):(0,t.Q3)("",!0),j,(0,t.Lk)("div",{class:"text-center mb-4"},[(0,t.Lk)("i",{class:"bi bi-google me-3",onClick:y}),(0,t.Lk)("i",{class:"bi bi-github",onClick:x})]),(0,t.Lk)("div",R,["login"===v.value?((0,t.uX)(),(0,t.CE)("button",{key:0,type:"button",class:"btn btn-primary d-block",onClick:k}," 登入 ")):((0,t.uX)(),(0,t.CE)("button",{key:1,type:"button",class:"btn btn-primary",onClick:g}," 註冊 "))])])])]),(0,t.bF)(h.A,{isError:r.value,repMsg:c.value},null,8,["isError","repMsg"])],64))}},K=l(1241);const S=(0,K.A)(x,[["__scopeId","data-v-139b47f8"]]);var A=S}}]);
//# sourceMappingURL=815.2fdc20e3.js.map